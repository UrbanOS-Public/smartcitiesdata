<html>

<head>
  <title>Discovery Datasets</title>
  <meta http-equiv="Cache-Control" content="no-store" />

  <script crossorigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js?features=es2016%2Ces2017%2Ces2018%2Ces2015%2Cfetch%2CArray.prototype.some%2CURLSearchParams"></script>


  <script src="https://connectors.tableau.com/libs/tableauwdc-2.3.latest.js" type="text/javascript"></script>

  <script src="connector.config.js" type="text/javascript"></script>
  <script src="connector.js" type="text/javascript"></script>

  <link rel="stylesheet" href="connector.css">
</head>

<body>
  <div class="login-bar">
    <input type="text" id="apiKey" placeholder="Enter an API Key"></input>
    <button class="clickable" onclick="login()">Submit API Key</button>
  </div>
  <div class="content" id="login-error" style="display:none">
    <p id="login-error-text" class="error">A log in error occurred.</p>
  </div>
  <div class="header">
    <h1>Discovery API Tableau Web Data Connector</h1>
    <h5>Use this URL in a Tableau product to access data from the API.
    </h5>
  </div>
  <div class="content">
    <p>Load all available datasets into Tableau.</p>
    <button class="clickable" onclick="submit('discovery')">Discover Datasets</button>
    <div>
      <hr />
      <span class="line-text">OR</span>
    </div>
    <p>Enter a custom SQL query below to refine your results. SQL queries use the <a href="https://prestodb.github.io/docs/current/sql/select.html" target="_blank">PrestoDB</a> query syntax.</p>
    <textarea id="query" placeholder="select * from..."></textarea>
    <button class="clickable" onclick="submit('query')">Submit a Query</button>
    <p id="error" class="error" style="display:none">Please enter a query.</p>
  </div>
  <div class="header">Need more details on how to use this in a Tableau product? Check out the <a href="help.html">help page</a>.</div>
</body>

</html>
